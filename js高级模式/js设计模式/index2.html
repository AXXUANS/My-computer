<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>JavaScript设计模式2</title>
</head>
<body>
<script>
    //订阅者：买家 发布者（消息发布者）：卖家
    var shoeObj={};//定义发布者
    shoeObj.list=[];//存储订阅者的（买家）的对象
    //增加订阅者 订阅消息
    shoeObj.listen=function (fn) {
        shoeObj.list.push(fn);
    };
    shoeObj.triger=function () {
        for (var i=0,fn;fn=this.list[i++];){
            fn.apply(this,arguments);//参数不知道个数 arguments：参数的总个数
        }
    };
    shoeObj.listen(function (color,size) {
        console.log("颜色是："+color);
        console.log("尺码是："+size);
    });
    shoeObj.listen(function (color,size) {
        console.log("再次输出颜色是："+color);
        console.log("再次输出尺码是："+size);
    })
    shoeObj.triger("红色",39);
    shoeObj.triger("黑色",39);
</script>
</body>
</html>